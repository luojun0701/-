"use strict";var e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("cu-tabs")+e.resolveComponent("cu-navbar")+e.resolveComponent("cu-empty")+e.resolveComponent("cu-loading")+e.resolveComponent("cu-ps-card")+e.resolveComponent("unicloud-db")+e.resolveComponent("cu-button")+e.resolveComponent("cu-tabbar"))()}Math||((()=>"../../components/cu-tabs/cu-tabs.js")+(()=>"../../components/cu-navbar/cu-navbar.js")+(()=>"../../components/cu-empty/cu-empty.js")+(()=>"../../components/cu-loading/cu-loading.js")+(()=>"../../components/cu-ps-card/cu-ps-card.js")+(()=>"../../node-modules/@dcloudio/uni-components/lib/unicloud-db/unicloud-db.js")+(()=>"../../components/cu-button/cu-button.js")+(()=>"../../components/cu-tabbar/cu-tabbar.js"))();const o={__name:"find",setup(o){const a=[{name:"最新"},{name:"最热"}],c={position:"fixed",bottom:"158rpx",right:"50rpx"},t=e.ref("publish_date desc"),n=e.reactive({pageSize:20,page:1}),l=e.ref(0),d=e.ref(null),u=e.ref(!1),r=e.ref(!0),s=e=>{let o=e.detail.scrollTop<10;r.value!=o&&(r.value=o)},i=e=>{u.value=!0,d.value.loadData({clear:!0},(()=>{u.value=!1}))},p=()=>{u.value=!1},m=()=>{console.log("scrolltolower"),d.value.loadMore()},b=e=>{l.value=e;let o=0==e?"publish_date desc":"like_count desc";t.value=o};return e.onLoad((()=>{e.index.hideTabBar()})),(o,v)=>({a:e.o(b),b:e.p({list:a,current:l.value}),c:e.p({leftIcon:""}),d:e.w((({data:o,loading:a,error:c,options:t,hasMore:n},l,d)=>e.e({a:c},c?{b:"dcd66ac8-3-"+d+",dcd66ac8-2",c:e.p({mode:"fail"})}:a?{e:"dcd66ac8-4-"+d+",dcd66ac8-2"}:0!=o.length?{g:e.f(o,((o,a,c)=>({a:"dcd66ac8-5-"+d+"-"+c+",dcd66ac8-2",b:e.p({data:o})})))}:{h:"dcd66ac8-6-"+d+",dcd66ac8-2"},{d:a,f:0!=o.length,i:!n&&!a&&0!=o.length},n||a||0==o.length?{}:{j:"dcd66ac8-7-"+d+",dcd66ac8-2",k:e.p({line:!0,loadingText:"没有更多了",showCircle:!1})},{l:d,m:l})),{name:"d",path:"d",vueId:"dcd66ac8-2"}),e:e.sr(d,"dcd66ac8-2",{k:"udb"}),f:e.p({orderby:t.value,collection:"articles,users,articles-categories",field:"content,img_list,like_count,comment_count,publish_date,user_id{_id,nickName,avatarUrl,role,account},category_id{name}","page-current":n.page,"page-size":n.pageSize}),g:r.value,h:e.o(s),i:u.value,j:e.o(i),k:e.o(p),l:e.o(m),m:e.p({text:"发布动态",size:"small",customStyle:c})})}};wx.createPage(o);
