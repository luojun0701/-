"use strict";var e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("cu-navbar")+e.resolveComponent("cu-input")+e.resolveComponent("cu-button")+e.resolveComponent("cu-card"))()}Math||((()=>"../../components/cu-navbar/cu-navbar.js")+(()=>"../../components/cu-input/cu-input.js")+(()=>"../../components/cu-button/cu-button.js")+(()=>"../../components/cu-card/cu-card.js"))();const o={__name:"login",setup(o){const n=getApp(),t=e.reactive({username:"",password:"",openid:n.globalData.userinfo.openid});return(o,a)=>({a:e.p({bgColor:"transparent",placeholder:!1,leftIconColor:"#ffffff"}),b:e.o((e=>t.username=e)),c:e.p({placeholder:"请输入学号",type:"number",value:t.username}),d:e.o((e=>t.password=e)),e:e.p({placeholder:"请输入密码",type:"text",value:t.password}),f:e.o((o=>(e.index.showLoading({title:"验证账户...",mask:!0}),void e.pn.callFunction({name:"authentication",data:t}).then((({result:o})=>{let{msg:a,status:r}=o;if(e.index.showToast({title:a,icon:"none",mask:!0}),200==r){let o=n.globalData.userinfo;o.account=t.username,o.password=t.password,n.globalData.userinfo=o,e.index.setStorageSync("userinfo",o),setTimeout((()=>{e.index.navigateBack()}),1200)}}))))),g:e.p({color:"linear-gradient(to right, #0acffe 0%, #495aff80 100%)"}),h:e.p({isShadow:!0,customStyle:{top:"-166rpx"},bodyStyle:{padding:"60rpx 40rpx"}})})}};wx.createPage(o);
