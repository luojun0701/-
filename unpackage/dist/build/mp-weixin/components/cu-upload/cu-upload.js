"use strict";var e=require("../../common/vendor.js"),a=require("../../common/upload.js");if(!Array){(e.resolveComponent("cu-image")+e.resolveComponent("cu-icon"))()}Math||((()=>"../cu-image/cu-image.js")+(()=>"../cu-icon/cu-icon.js"))();const o={__name:"cu-upload",props:{maxCount:{type:[Number,String],default:9}},setup(o,{expose:n}){const t=o,c=e.ref([]);e.ref([]);const u=()=>{e.index.chooseMedia({count:t.maxCount,mediaType:["image"],sizeType:["compressed"],success:({tempFiles:a})=>{c.value.length+a.length>t.maxCount?e.index.showToast({title:`图片总数不能超过${t.maxCount}张`,icon:"none"},(e=>{})):c.value=c.value.concat(a.map((e=>e.tempFilePath)))}})};return n({upload:async()=>await a.upload(c.value)}),(a,n)=>e.e({a:e.f(c.value,((a,o,n)=>({a:"1c595508-0-"+n,b:e.p({src:a,width:"220rpx",height:"220rpx",radius:"4rpx",previewSrcList:c.value,initialIndex:o}),c:"1c595508-1-"+n,d:e.o((e=>(e=>{c.value.splice(e,1)})(o))),e:e.s((o+1)%3==0?"margin:0 0 15rpx 0":"")}))),b:e.p({name:"shanchu",color:"#fff",size:"10px"}),c:c.value.length<o.maxCount},c.value.length<o.maxCount?{d:e.p({name:"camera",color:"rgb(211, 212, 214)"}),e:e.o(u)}:{})}};wx.createComponent(o);
